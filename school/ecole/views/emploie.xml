<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="emploie">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <div class="oe_structure" /><br/><br/>
                        <h4 t-field="o.sudo().classe_id.ecole_id.nom"></h4>
                        <div class="row" align="center">
                            <table width="100%" style="border: 2px solid black;">
                                <tr>
                                    <td width="25%" align="center" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                        <b>annee scolaire</b>
                                    </td>
                                    <td width="25%" align="center" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                        <b>classe</b>
                                    </td>
                                    <td width="25%" align="center" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                        <b>Division</b>
                                    </td>

                                </tr>
                                <tr>
                                    <td width="25%" align="center" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                        <span t-field="o.annee_id.nom"></span>
                                    </td>
                                    <td width="25%" align="center" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                        <span t-field="o.classe_id.classe_id.nom"></span>
                                    </td>
                                    <td width="25%" align="center" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                        <span t-field="o.classe_id.division_id.nom"></span>
                                    </td>

                                </tr>
                                <tr style="border: 0px;">
                                    <td colspan="4" style="border: 0px;">
                                        <t t-if="o.emploie_type == 'reguliere'">
                                            <br/>
                                            <table width="100%" style="border: 0px;">
                                                <tr style="border: 0px;">
                                                    <td width="15%" align="center" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Temps</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Lundi</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Mardi</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Mercredi</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Jeudi</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Vendredi</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Samedi</b>
                                                    </td>
                                                </tr>
                                                <t t-foreach="get_emploie(o)" t-as="t">
                                                    <tr>
                                                        <td align="center" width="15%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="'{0:,.2f}'.format(t['heure_debut'])"></span>
                                                            <span> - </span>
                                                            <span t-esc="'{0:,.2f}'.format(t['heure_fin'])"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="t.get('lundi')"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="t.get('mardi')"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="t.get('mercredi')"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="t.get('jeudi')"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="t.get('vendredi')"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-esc="t.get('samedi')"></span>
                                                        </td>
                                                    </tr>
                                                </t>
                                            </table>
                                        </t>
                                        <t t-if="o.emploie_type == 'exam'">
                                            <br/>
                                            <table width="100%" style="border: 2px solid black;">
                                                <tr>
                                                    <td width="15%" align="center" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Date D'Examen</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Jour de la semaine</b>
                                                    </td>
                                                    <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                                        <b>Mati√®re</b>
                                                    </td>
                                                </tr>
                                                <t t-foreach="o.exam_emploie_ligne_ids" t-as="t">
                                                    <tr>
                                                        <td align="center" width="14.16%" style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-field="t.exm_date" t-options="{'format': 'dd - MM - yyyy'}"></span>
                                                            <br />
                                                            <span t-esc="'{0:,.2f}'.format(t['heure_debut'])"></span>
                                                            <span>-</span>
                                                            <span t-esc="'{0:,.2f}'.format(t['heure_fin'])"></span>
                                                        </td>
                                                        <td align="center" width="14.16%" style="margin-top: 16px; font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-field="t.day_of_week" style="text-align: center;vertical-align: middle;" />
                                                        </td>
                                                        <td align="center" width="14.16%" style="margin-top: 16px; font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                            <span t-field="t.matiere_id.nom" style="text-align: center;vertical-align: middle;" />
                                                        </td>
                                                    </tr>
                                                </t>
                                            </table>
                                        </t>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>
